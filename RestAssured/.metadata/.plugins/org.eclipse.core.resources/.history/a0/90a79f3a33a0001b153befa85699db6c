package frameWork.UtilFile;

import java.io.IOException;
import java.util.HashMap;
import java.util.Map;
import java.util.Properties;

import org.testng.annotations.BeforeClass;
import org.testng.annotations.Test;
import static org.hamcrest.MatcherAssert.assertThat;
import static org.hamcrest.Matchers.*;



import api.automation.helper.GenericHelper;
import api.automation.helper.UserManagementHelper;
import io.restassured.response.Response;

public class TestGetAssertion {
	GenericHelper helper;
	Properties propery;
	String baseUrl;
	UserManagementHelper user;
	
	@BeforeClass
	public voideSetup() {
		helper = new GenericHelper();
		propery = helper.loadPrperties("config");
		baseUrl =  propery.getProperty("baseUrl");
		user = new UserManagementHelper(baseUrl);
	}
	
	@Test
	public void getUserDetails() throws Exception {
		//Asserting status code 200
		//Asserting DOB,Name and AddressLine2

		
		Map<String,String> testData = new HashMap<String,String>();
		testData = helper.readJson("updateID", "Data", "data.json");
		
		Response response =  user.getSpecificUserDetails(testData);
		
		int statusCode = response.getStatusCode();
		
		
		
		assertThat(new Object[] {statusCode},is(new Object[] {testData.get("statusCode")}));
		
		response.prettyPrint();
	}

}
